{"version":3,"sources":["SpeakingTest/VideoPlayer.js","App.jsx","index.js"],"names":["VideoPlayer","player","playerParams","isAutoPlayEnabled","setIsAutoPlayEnabled","handleProgress","useState","isPlaying","setIsPlaying","useEffect","current","play","pause","console","log","ref","width","height","playsInline","ontimeupdate","src","type","onClick","currentTime","App","React","createRef","playedSeconds","loadedSeconds","setPlayerParams","meta1","document","createElement","setAttribute","head","appendChild","meta2","meta3","meta4","meta5","progress","alert","currentPlayedSeconds","Math","round","currentLoadedSeconds","ReactDOM","render","getElementById"],"mappings":"gOAGaA,G,MAAc,SAAC,GAMrB,IAAD,EALJC,EAKI,EALJA,OAGAC,GAEI,EAJJC,kBAII,EAHJC,qBAGI,EAFJF,cACAG,EACI,EADJA,eACI,EAO8BC,oBAAS,GAPvC,mBAOGC,EAPH,KAOcC,EAPd,KAqCJ,OA5BAC,qBAAU,YACHF,GAAaL,EAAaK,WAC7BC,GAAa,GACbP,EAAOS,QAAQC,QAENJ,IAAcL,EAAaK,YACpCC,GAAa,GACbP,EAAOS,QAAQE,WAGhB,CAACV,IAEJW,QAAQC,IAAI,cAAeP,GAsDzB,oCACA,8BACEQ,IAAKd,EACLe,MAAO,IACPC,OAAO,OAEPC,aAAW,EACXC,aAAcd,GANhB,8BAOgB,iBAAM,YAPtB,mBAQK,WARL,GAWE,4BACEe,IACE,0EAEFC,KAAK,2BAGL,4BAAQC,QAAS,kBAAMrB,EAAOS,QAAQa,YAAc,KAApD,gB,MCwBOC,MAnHf,WACE,IAAMvB,EAASwB,IAAMC,UAAU,IADlB,EAEqCpB,oBAAS,GAF9C,mBAENH,EAFM,KAEaC,EAFb,OAG2BE,mBAAS,CAC/CC,WAAW,EACXoB,cAAe,GACfC,cAAe,KANJ,mBAGN1B,EAHM,KAGQ2B,EAHR,KAsFb,OA7EApB,qBAAU,WACR,IAAMqB,EAAQC,SAASC,cAAc,QACrCF,EAAMG,aAAa,WAAY,YAC/BH,EAAMG,aAAa,UAAW,2BAC9BF,SAASG,KAAKC,YAAYL,GAI1B,IAAMM,EAAQL,SAASC,cAAc,QACrCI,EAAMH,aAAa,WAAY,WAC/BG,EAAMH,aAAa,UAAW,WAC9BF,SAASG,KAAKC,YAAYC,GAG1B,IAAMC,EAAQN,SAASC,cAAc,QACrCK,EAAMJ,aAAa,WAAY,YAC/BI,EAAMJ,aACJ,UACA,wCAEFF,SAASG,KAAKC,YAAYE,GAG1B,IAAMC,EAAQP,SAASC,cAAc,QACrCM,EAAML,aAAa,WAAY,kBAC/BK,EAAML,aACJ,UACA,sCAEFF,SAASG,KAAKC,YAAYG,GAG1B,IAAMC,EAAQR,SAASC,cAAc,QACrCO,EAAMN,aAAa,WAAY,UAC/BM,EAAMN,aACJ,UACA,4CAEFF,SAASG,KAAKC,YAAYI,KAEzB,IAsCD,oCACE,kBAAC,EAAD,CACEtC,OAAQA,EACRE,kBAAmBA,EACnBC,qBAAsBA,EACtBF,aAAcA,EACdG,eA1CiB,SAAAmC,GACrBC,MAAM,aAAcD,GAEpB,IAAME,EAAuBC,KAAKC,MAAMJ,GAClCK,EAAuBF,KAAKC,MAAMJ,EAASZ,eAEjDC,EAAgB,2BACX3B,GADU,IAEbyB,cAAee,EACfd,cAAeiB,QAmCf,2BAAI3C,EAAayB,gBACfxB,GACA,4BACEmB,QAAS,WAKPO,EAAgB,2BAAK3B,GAAN,IAAoBK,WAAW,OANlD,QAWQN,EAAOS,WCpHvBoC,IAASC,OAAO,kBAAC,EAAD,MAAShB,SAASiB,eAAe,W","file":"static/js/main.e443f241.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactPlayer from 'react-player/file';\n\nexport const VideoPlayer = ({\n  player,\n  isAutoPlayEnabled,\n  setIsAutoPlayEnabled,\n  playerParams,\n  handleProgress,\n}) => {\n  const checkAutoPlay = () => {\n    if (!isAutoPlayEnabled) {\n      setIsAutoPlayEnabled(true);\n    }\n  };\n\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  useEffect(() => {\n    if (!isPlaying && playerParams.isPlaying) {\n      setIsPlaying(true);\n      player.current.play();\n\n    } else if (isPlaying && !playerParams.isPlaying) {\n      setIsPlaying(false);\n      player.current.pause();\n\n    }\n  }, [playerParams]);\n\n  console.log('isPlayin---', isPlaying);\n\n  // useEffect(() => {\n  //   setTimeout(() => {\n  //     if (!isPlaying) {\n  //       // player.current.pause();\n  //     } else {\n  //       player.current.play();\n  //     }\n  //   }, 1);\n  // }, [isPlaying]);\n  // const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n  // useEffect(() => {\n  //   player.current = document.getElementById (\"myVideo\");\n  // },[])\n  return (\n    // <ReactPlayer\n    //   ref={player}\n    //   className=\"react-player\"\n    //   // url='https://media.w3.org/2010/05/sintel/trailer_hd.mp4'\n    //   // url={url}\n    //   // url=\"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8\"\n    //   controls={false}\n    //   // url=\"https://d1dgcz2mzc8ifr.cloudfront.net/speaking-test-3qs-jack/index.m3u8\"\n    //   url=\"https:///speaking-test-videos.s3.us-west-2.amazonaws.com/speaking-test-3qs-james/index.m3u8\"\n    //   width=\"320px\"\n    //   // height=\"600px\"\n    //   playing={playerParams.isPlaying}\n    //   playsinline={true}\n    //   // config={{\n    //   //   file: {\n    //   //     forceHLS: true,\n    //   //     forceVideo: true,\n    //   //     hlsVersion: '0.12.4',\n    //   //     attributes: {\n    //   //       // poster: feed && feed.actionUrl && feed.actionUrl.image,\n    //   //       disablePictureInPicture: true,\n    //   //     },\n    //   //   },\n    //   // }}\n    //   // onDuration={handleDuration}\n    //   // onProgress={handleProgress}\n    //   // starttime={12}\n    //   // onStart={20}\n    //   // start={12}\n    //   // end={22}\n    //   // muted={true}\n    //   onProgress={handleProgress}\n    //   onStart={checkAutoPlay}\n    //   // muted={true}\n    //   volume={0.1}\n    // />\n\n    <>\n    <video\n      ref={player}\n      width={600}\n      height=\"100%\"\n      // controls={true}\n      playsInline\n      ontimeupdate={handleProgress}\n      ontimeupdate={() => 'dasdsa'}\n      id=\"myVideo\"\n      // isPlaying={playerParams.isPlaying}\n    >\n      <source\n        src={\n          'https://d1dgcz2mzc8ifr.cloudfront.net/speaking-test-3qs-jack/index.m3u8'\n        }\n        type=\"application/x-mpegURL\"\n      />\n    </video>\n        <button onClick={() => player.current.currentTime = 10}>\n          go to 10s\n        </button>\n    </>\n  );\n};\n\n// export default VideoPlayer;\n","import React, { useEffect, useState } from 'react';\n// import TypeScriptDev from './TypeScriptDev.tsx';\n// import Player from './Player';\n// import VideoPart from './SpeakingTest/VideoPart/VideoPart';\n// import { AppCircle } from './Circle/AppCircle';\n// import { WaweSound } from './WaweSound/WaweSound';\n\n// import { Timer } from './Timer/Timer';\n\nimport { VideoPlayer } from './SpeakingTest/VideoPlayer.js';\nimport './App.scss';\n\nfunction App() {\n  const player = React.createRef({});\n  const [isAutoPlayEnabled, setIsAutoPlayEnabled] = useState(false);\n  const [playerParams, setPlayerParams] = useState({\n    isPlaying: false,\n    playedSeconds: '',\n    loadedSeconds: '',\n  });\n\n  useEffect(() => {\n    const meta1 = document.createElement('meta');\n    meta1.setAttribute('property', 'og:title');\n    meta1.setAttribute('content', 'Speechace speaking test');\n    document.head.appendChild(meta1);\n\n    // <meta property=\"og:title\" content=\"Speechace speaking test\" />\n\n    const meta2 = document.createElement('meta');\n    meta2.setAttribute('property', 'og:type');\n    meta2.setAttribute('content', 'website');\n    document.head.appendChild(meta2);\n    // <meta property=\"og:type\" content=\"website\" />\n\n    const meta3 = document.createElement('meta');\n    meta3.setAttribute('property', 'og:image');\n    meta3.setAttribute(\n      'content',\n      'https://picsum.photos/id/52/1200/600'\n    );\n    document.head.appendChild(meta3);\n    // <meta property=\"og:image\" content=\"https://picsum.photos/id/52/1200/600\" />\n\n    const meta4 = document.createElement('meta');\n    meta4.setAttribute('property', 'og:description');\n    meta4.setAttribute(\n      'content',\n      'Speechace speaking test result for'\n    );\n    document.head.appendChild(meta4);\n    // <meta property=\"og:description\" content=\"Speechace speaking test result for \" />\n\n    const meta5 = document.createElement('meta');\n    meta5.setAttribute('property', 'og:url');\n    meta5.setAttribute(\n      'content',\n      'https://www.speechace.com/speaking-test/'\n    );\n    document.head.appendChild(meta5);\n    // <meta property=\"og:url\" content=\"https://www.speechace.com/speaking-test/\" />\n  }, []);\n\n  const handleProgress = progress => {\n    alert('progress--', progress);\n    // const currentPlayedSeconds = Math.round(progress.playedSeconds);\n    const currentPlayedSeconds = Math.round(progress);\n    const currentLoadedSeconds = Math.round(progress.loadedSeconds);\n\n    setPlayerParams({\n      ...playerParams,\n      playedSeconds: currentPlayedSeconds,\n      loadedSeconds: currentLoadedSeconds,\n    });\n  };\n  // const [isPlaying, setIsPlaying] = useState(false);\n\n  // if (player.current) {\n  //   player.current.ontimeupdate = handleProgress;\n  // }\n\n  // useEffect(() => {\n  //   if (!isPlaying && playerParams.isPlaying) {\n  //     setIsPlaying(true);\n  //   } else if (isPlaying && !playerParams.isPlaying) {\n  //     setIsPlaying(false);\n  //   }\n  // }, [playerParams]);\n\n  // useEffect(() => {\n  //   setTimeout(() => {\n  //     if (!isPlaying) {\n  //       // player.current.pause();\n  //     } else {\n  //       player.current.play();\n  //     }\n  //   }, 1);\n  // }, [isPlaying]);\n  return (\n    <>\n      <VideoPlayer\n        player={player}\n        isAutoPlayEnabled={isAutoPlayEnabled}\n        setIsAutoPlayEnabled={setIsAutoPlayEnabled}\n        playerParams={playerParams}\n        handleProgress={handleProgress}\n      />\n      <p>{playerParams.playedSeconds}</p>\n      {!isAutoPlayEnabled && (\n        <button\n          onClick={() => {\n            // setPlayerParams({ ...playerParams, isPlaying: false });\n            // setTimeout(() => {\n            //   setPlayerParams({ ...playerParams, isPlaying: true });\n            // }, 100);\n            setPlayerParams({ ...playerParams, isPlaying: true });\n\n            // player.current.play()\n          }}\n        >\n          Play {player.current}\n        </button>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nconst a = arg => arg - 2;\n"],"sourceRoot":""}